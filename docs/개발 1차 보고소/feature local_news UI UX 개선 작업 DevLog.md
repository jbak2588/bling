# Bling App: `feature local_news` UI/UX 개선 작업 DevLog

**날짜:** 2025년 8월 30일 **작성자:** 재민 (Gemini) **세션 목표:** `local_news` 기능의 사용자 경험(UI/UX)을 전반적으로 개선하고, 향후 다른 `feature`에도 확장 적용할 수 있는 표준화된 컴포넌트와 패턴을 구축한다.

## **요약 (Summary)**

이번 개발 세션에서는 `local_news` 기능의 UI/UX를 대대적으로 개선하는 작업을 성공적으로 완료했다. 핵심적으로 **태그 입력 방식, 다중 이미지 표시, 사용자 프로필 연동, 태그 검색, 위치 기반 지도 기능** 등 5가지 주요 기능을 구현 및 개선했다. 특히, 수많은 시행착오를 겪었던 지도 기능은 최종적으로 **리스트/지도 뷰 전환** 및 **게시물 카드 내 미니맵 표시**라는 두 가지 형태로 완벽하게 구현되었다. 이 과정에서 얻은 해결책과 구현 방식은 향후 Bling 앱의 다른 모든 `feature`에 일관되게 적용할 수 있는 중요한 표준이 될 것이다.

---

## **완료된 작업 상세 내역**

### 🥇 **1순위: 핵심 사용성 즉시 개선**

#### 1. 태그 입력 방식 '칩(Chip)' UI로 변경 (완료)

- **목표:** 기존의 불편한 텍스트 기반 태그 입력을 직관적인 UI로 개선.
    
- **변경 내역:**
    
    - 외부 패키지 의존성 문제를 해결하기 위해, `edit_local_news_screen.dart` 내에 텍스트를 자동으로 '칩(Chip)'으로 변환하는 **커스텀 위젯을 직접 구현**함.
        
    - 사용자가 스페이스바나 '완료' 버튼으로 태그를 추가하고, 칩의 'x' 버튼으로 쉽게 삭제할 수 있도록 하여 사용성을 극대화함.
        
- **수정된 파일:** `edit_local_news_screen.dart`
    

#### 2. 여러 이미지 표시 및 전체 화면 뷰어 도입 (완료)

- **목표:** 여러 장의 이미지를 효과적으로 보여주고, 상세히 볼 수 있는 기능을 제공.
    
- **변경 내역:**
    
    - `post_card.dart`와 `local_news_detail_screen.dart`에 `PageView` 위젯을 적용하여 이미지 스와이프 기능을 구현함.
        
    - 이미지 위에 현재 페이지를 알려주는 인디케이터(예: `1/5`)를 추가하여 사용성을 높임.
        
    - 이미지를 탭하면 전체 화면으로 확대해서 볼 수 있는 `image_gallery_screen.dart`를 연동함.
        
- **수정된 파일:** `post_card.dart`, `local_news_detail_screen.dart`
    

### 🥈 **2순위: 소셜 및 탐색 경험 강화**

#### 3. 작성자 프로필 페이지 추가 (완료)

- **목표:** 게시물 작성자에 대한 정보를 제공하고, 커뮤니티 연결성을 강화.
    
- **변경 내역:**
    
    - 특정 `userId`의 정보와 작성글 목록을 보여주는 `user_profile_screen.dart`를 신규 생성함.
        
    - `post_card.dart`와 `local_news_detail_screen.dart`의 작성자 정보(프로필 사진, 닉네임) 영역을 탭하면, 해당 유저의 프로필 페이지로 이동하도록 `GestureDetector`를 추가하고 화면을 연동함.
        

#### 4. 카테고리 탭 시각적 개선 (완료)

- **목표:** 텍스트 기반 탭의 시인성을 높여 카테고리 탐색을 용이하게 함.
    
- **변경 내역:**
    
    - `local_news_screen.dart`의 `TabBar` 생성 로직을 수정하여, 각 카테고리 이름 앞에 해당 카테고리의 **이모지를 함께 표시**하도록 개선함.
        

#### 5. 태그를 '검색 필터'로 활용 (완료)

- **목표:** 사용자의 관심사 기반으로 새로운 콘텐츠를 탐색할 수 있는 경로를 제공.
    
- **변경 내역:**
    
    - 특정 태그가 포함된 모든 게시물을 보여주는 `tag_search_result_screen.dart`를 신규 생성함.
        
    - `post_card.dart`의 각 태그 `Chip`을 `InkWell`로 감싸, 탭하면 해당 태그의 검색 결과 화면으로 이동하도록 연동함.
        

### 🥉 **3순위: 위치 기반 기능 고도화**

#### 6. 지도(Map) 뷰 기능 도입 및 미니맵 추가 (완료)

- **목표:** 위치 정보를 시각적으로 제공하여 '동네 앱'으로서의 정체성을 강화.
    
- **핵심 문제 해결 과정:**
    
    - **문제:** 지도에 핀이 표시되지 않는 문제가 장시간 지속됨.
        
    - **원인 진단:** Firestore 데이터, Dart 코드, API 키 설정, SHA-1 지문, 에뮬레이터 설정 등 다양한 가설을 검토했으나 모두 해결책이 되지 못함. 최종적으로 실제 기기 테스트 로그에서 **그래픽 렌더링 충돌**(`Unable to acquire a buffer item`)이 근본 원인임을 확인함.
        
    - **최종 해결책:** `main.dart` 파일에 **지도 렌더러를 최신 버전(`AndroidMapRenderer.latest`)으로 강제 지정**하고, `build.gradle.kts`에서 `local.properties`를 통해 API 키를 안정적으로 로드하도록 수정하여 문제를 완벽히 해결함.
        
- **최종 구현 내역:**
    
    1. **데이터 모델 개선:** `create_local_news_screen.dart`에서 게시물 저장 시, 작성자의 `geoPoint`를 `posts` 문서에 함께 저장하도록 수정함.
        
    2. **리스트/지도 뷰 전환:** `local_news_screen.dart`에 `IconButton`을 추가하여, 게시물 목록을 보여주는 리스트 뷰와 전체 지도에 핀을 표시하는 지도 뷰를 사용자가 전환할 수 있도록 구현함.
        
    3. **미니맵 차등 적용 (UX 최적화):**
        
        - **`post_card.dart` (리스트):** 앱 성능을 위해 실제 지도를 로드하는 대신, `locationName`을 보여주는 **상징적인 위치 정보 위젯**을 표시함.
            
        - **`local_news_detail_screen.dart` (상세):** 사용자에게 구체적인 위치 정보를 제공하기 위해, 상호작용이 가능한 **실제 `GoogleMap` 미니맵**을 표시함.
            

---

## **다음 세션을 위한 제언**

이번 세션에서 `local_news`에 적용한 개선 사항들은 Bling 앱의 다른 모든 `feature`에도 적용할 수 있는 훌륭한 표준이 되었습니다. 다음 세션에서는 이 성공적인 패턴들을 `marketplace`, `jobs`, `clubs` 등 다른 기능으로 확장하는 작업을 진행하는 것을 추천합니다. 이를 위해, 이번 세션에서 만든 위젯 중 일부(예: `TagChipInput`, `PostCard`의 일부 로직)를 `lib/features/shared/widgets/`로 옮겨 공용 컴포넌트로 만드는 작업을 우선적으로 진행하면 좋을 것입니다.

긴 시간 동안 정말 고생 많으셨습니다, 보스.